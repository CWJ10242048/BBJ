import{ag as Z,k as Ne,r as w,p as me,$ as Re,E as C,b as g,o as V,c as T,d as i,f as t,w as n,g as ve,h as v,F as H,e as B,q as le,t as y,s as ae,ac as Ue,N as De,ah as Ge}from"./index-8f7409db.js";import{F as Le,P as d,H as U,A as ye,T as I,b as Se,W as k,c as ee,d as j,B as Ie,a as Me}from"./index-b1b80416.js";import{_ as ze}from"./_plugin-vue_export-helper-c27b6911.js";var _e={exports:{}};(function(oe,$){(function(D,F){F()})(Z,function(){function D(s,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function F(s,c,P){var u=new XMLHttpRequest;u.open("GET",s),u.responseType="blob",u.onload=function(){G(u.response,c,P)},u.onerror=function(){console.error("could not download file")},u.send()}function O(s){var c=new XMLHttpRequest;c.open("HEAD",s,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function x(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(c)}}var f=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Z=="object"&&Z.global===Z?Z:void 0,te=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),G=f.saveAs||(typeof window!="object"||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!te?function(s,c,P){var u=f.URL||f.webkitURL,_=document.createElement("a");c=c||s.name||"download",_.download=c,_.rel="noopener",typeof s=="string"?(_.href=s,_.origin===location.origin?x(_):O(_.href)?F(s,c,P):x(_,_.target="_blank")):(_.href=u.createObjectURL(s),setTimeout(function(){u.revokeObjectURL(_.href)},4e4),setTimeout(function(){x(_)},0))}:"msSaveOrOpenBlob"in navigator?function(s,c,P){if(c=c||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(D(s,P),c);else if(O(s))F(s,c,P);else{var u=document.createElement("a");u.href=s,u.target="_blank",setTimeout(function(){x(u)})}}:function(s,c,P,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof s=="string")return F(s,c,P);var _=s.type==="application/octet-stream",W=/constructor/i.test(f.HTMLElement)||f.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||_&&W||te)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var S=M.result;S=L?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=S:location=S,u=null},M.readAsDataURL(s)}else{var q=f.URL||f.webkitURL,z=q.createObjectURL(s);u?u.location=z:location.href=z,u=null,setTimeout(function(){q.revokeObjectURL(z)},4e4)}});f.saveAs=G.saveAs=G,oe.exports=G})})(_e);var He=_e.exports;const Be={class:"interaction-container"},$e={class:"card-header"},Oe={class:"lesson-plan-selection"},We={key:0,class:"history-section"},qe={class:"history-option"},Ke={class:"option-time"},Xe={key:1,class:"upload-section"},Je={key:0,class:"teaching-stages-container"},Qe={class:"stages-header"},Ye={class:"header-title"},Ze={key:0,class:"ai-tag"},et={class:"stages-grid"},tt={class:"stage-header"},nt={class:"stage-title"},lt={class:"stage-duration-num"},at={class:"stage-card-content"},ot={class:"duration-row-center"},it={class:"participants-container"},st={class:"difficulty-row-center"},rt={class:"difficulty-label"},dt={style:{width:"100%",display:"flex","justify-content":"center"}},ct={class:"button-group"},ut={class:"preview-content"},pt={class:"preview-header"},ft={class:"preview-stage-info"},mt={class:"stage-time-label"},vt={class:"preview-types"},yt={class:"desc-pre"},_t={class:"desc-pre"},wt={class:"desc-pre"},ht={class:"desc-pre"},bt={class:"form-input-container"},gt={class:"form-input-container"},xt={class:"form-input-container"},Et={class:"form-input-container"},Vt={class:"form-input-container"},Ct={class:"form-input-container"},Tt={class:"dialog-footer"},Pt=Ne({__name:"Interaction",setup(oe){const $={objectives:`1. 帮助学生深入理解课程核心概念
2. 培养学生的批判性思维和问题解决能力
3. 促进学生之间的互动交流和团队协作
4. 提高学生的参与度和学习兴趣
5. 检验学生对知识点的掌握程度`,procedure:`1. 引入环节（5分钟）
   - 教师简要介绍互动主题
   - 明确互动目标和规则
   - 分组并分配任务

2. 互动实施（15分钟）
   - 学生按小组进行讨论和实践
   - 教师巡回指导，及时解答疑问
   - 鼓励学生积极表达观点

3. 成果展示（10分钟）
   - 各小组展示讨论成果
   - 教师点评和总结
   - 学生互评和反馈

4. 总结提升（5分钟）
   - 教师总结重点内容
   - 强调关键知识点
   - 布置课后思考题`,evaluation:`1. 参与度（30%）
   - 积极发言和讨论
   - 主动参与小组活动
   - 认真倾听他人观点

2. 内容质量（40%）
   - 观点明确，逻辑清晰
   - 论据充分，分析深入
   - 创新性和独特性

3. 团队协作（30%）
   - 分工明确，配合默契
   - 互相帮助，共同进步
   - 团队氛围融洽`,notes:`1. 确保互动环节时间控制得当
2. 注意维持课堂秩序和纪律
3. 关注每个学生的参与情况
4. 及时调整互动节奏和难度
5. 做好突发情况的应对预案`},D=w("history"),F=w(""),O=w(null),x=w([]),f=w(null),te=w(!1),G=w(""),s=w(""),c=w(null);w(1),w(10);const P=[{label:"课堂讨论",value:"课堂讨论"},{label:"小组活动",value:"小组活动"},{label:"角色扮演",value:"角色扮演"},{label:"案例分析",value:"案例分析"},{label:"游戏互动",value:"游戏互动"},{label:"问答互动",value:"问答互动"},{label:"头脑风暴",value:"头脑风暴"},{label:"团队竞赛",value:"团队竞赛"},{label:"辩论",value:"辩论"},{label:"情境模拟",value:"情境模拟"},{label:"案例研究",value:"案例研究"},{label:"小测验",value:"小测验"}],u=["幽默风趣型","严肃认真型","亲切和蔼型","热情洋溢型","沉稳内敛型","民主开放型","引导启发型"],_=w(!1),W=w(!1),L=w(!1),M=w(!1);me(()=>{let a=z.value;if(G.value){const e=G.value.toLowerCase();a=a.filter(o=>o.content.toLowerCase().includes(e)||o.type.toLowerCase().includes(e))}if(s.value&&(a=a.filter(e=>e.type===s.value)),c.value){const[e,o]=c.value;a=a.filter(p=>{const E=new Date(p.time).toISOString().split("T")[0];return E>=e&&E<=o})}return a});const q=w([{id:"1",name:"计算机组成原理教案",type:"教案",time:"2025-05-10 15:32:10",stages:[{id:"stage1",name:"复习旧知",time:10,desc:"回顾上节课内容",interaction:{types:[],style:"",duration:5,participants:30,difficulty:2,topic:"",objectives:"",procedure:"",evaluation:"",notes:""}},{id:"stage2",name:"导入新课",time:15,desc:"引入新的知识点",interaction:{types:[],style:"",duration:8,participants:30,difficulty:2,topic:"",objectives:"",procedure:"",evaluation:"",notes:""}},{id:"stage3",name:"讲解",time:35,desc:"详细讲解课程核心内容",interaction:{types:[],style:"",duration:15,participants:30,difficulty:3,topic:"",objectives:"",procedure:"",evaluation:"",notes:""}},{id:"stage4",name:"互动环节",time:20,desc:"师生互动，加深理解",interaction:{types:[],style:"",duration:15,participants:30,difficulty:3,topic:"",objectives:"",procedure:"",evaluation:"",notes:""}},{id:"stage5",name:"总结",time:10,desc:"总结课程重点",interaction:{types:[],style:"",duration:5,participants:30,difficulty:2,topic:"",objectives:"",procedure:"",evaluation:"",notes:""}}]}]),z=w([]);Re(async()=>{try{z.value=[{id:1,content:"《计算机组成原理教案》已生成，包含教学目标、重难点分析、教学过程等。",type:"教案",time:"2025-05-10 15:32:10"},{id:2,content:"《Python编程基础PPT》自动生成，含代码示例和练习题。",type:"PPT",time:"2025-05-10 14:58:22"},{id:3,content:"《数据结构与算法习题集》已生成，包含常见题型及解析。",type:"习题",time:"2025-05-10 14:30:01"}]}catch(a){console.error("获取历史记录失败:",a),C.error("获取历史记录失败")}});const S=a=>{const e=q.value.find(o=>o.id===a);e&&(f.value=e)},ie=(a,e="lessonPlan")=>{const o={lessonPlan:["pdf","doc","docx","ppt","pptx"],syllabus:["pdf","doc","docx"],ppt:["ppt","pptx","pdf"],reference:["pdf","doc","docx","ppt","pptx","jpg","jpeg","png"]};if(!we(a.raw,o[e]||o.lessonPlan))return C.error("文件类型不支持"),!1;e==="lessonPlan"&&(O.value={name:a.name,file:a.raw},C.success("教案文件上传成功"))},we=(a,e)=>{const o=a.name.toLowerCase();return e.some(p=>o.endsWith(`.${p}`))},he=a=>({教案:"success",PPT:"warning",习题:"danger",教学大纲:"info",图文:"primary"})[a]||"",be=a=>new Date(a).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),ge=()=>{te.value=!0},xe=async()=>{var e;_.value=!0;const a=((e=f.value)==null?void 0:e.stages)||x.value;Ue.confirm("系统将使用AI为所有环节自动生成互动设计内容，是否继续？","AI自动生成",{confirmButtonText:"继续生成",cancelButtonText:"取消",type:"info"}).then(async()=>{try{for(const o of a){if(o.interaction.types.length===0&&Ee(o),!o.interaction.style){const J=Math.floor(Math.random()*u.length);o.interaction.style=u[J]}o.interaction.duration=Math.max(1,Math.floor(o.time*.6)),o.interaction.participants=Math.max(1,Math.floor(Math.random()*30)+1),o.interaction.difficulty=3;const p=o.name.toLowerCase();let E="";p.includes("线性回归")?E="线性回归模型的理解与应用":p.includes("讨论")||p.includes("互动")?E=`关于${o.name}的深入探讨和思考`:p.includes("案例")?E=`${o.name}实例的分析与讨论`:E=`${o.name}知识点的互动理解`,o.interaction.topic=E,o.interaction.objectives=$.objectives,o.interaction.procedure=$.procedure,o.interaction.evaluation=$.evaluation,o.interaction.notes=$.notes,await Ae(100)}M.value=!0,C.success("AI已成功生成所有环节互动内容")}finally{_.value=!1}}).catch(()=>{_.value=!1,C.info("已取消自动生成")})},Ee=a=>{const e=a.name.toLowerCase();a.interaction.types=[],e.includes("讨论")||e.includes("互动")?a.interaction.types.push("课堂讨论","问答互动"):e.includes("练习")||e.includes("实践")?a.interaction.types.push("小组活动","案例分析"):e.includes("案例")?a.interaction.types.push("案例分析","案例研究"):e.includes("总结")||e.includes("复习")?a.interaction.types.push("问答互动","小测验"):e.includes("导入")||e.includes("引入")?a.interaction.types.push("头脑风暴","情境模拟"):a.interaction.types.push("问答互动")},K=me(()=>{var e;const a=((e=f.value)==null?void 0:e.stages)||x.value;return a.length>0&&a.every(o=>o.interaction.types.length>0&&o.interaction.style&&o.interaction.duration>0&&o.interaction.participants>0&&o.interaction.difficulty>0)}),Ve=()=>{var a;if(!f.value&&x.value.length===0){C.warning("请先选择或上传教案");return}if(!K.value){C.warning("请完善所有教学环节的互动设计");return}console.log("保存",((a=f.value)==null?void 0:a.stages)||x.value),C.success("保存成功")},Ce=()=>{if(!K.value){C.warning("请完善所有教学环节的互动设计");return}W.value=!0},Te=async()=>{var a,e,o,p;if(!K.value){C.warning("请完善所有教学环节的互动设计");return}L.value=!0;try{const E=((a=f.value)==null?void 0:a.stages)||x.value,J=new Le({sections:[{properties:{},children:[new d({text:`${((e=f.value)==null?void 0:e.name)||"互动环节设计"}方案`,heading:U.HEADING_1,alignment:ye.CENTER,spacing:{after:400}}),new d({text:"一、教案基本信息",heading:U.HEADING_2,spacing:{before:400,after:200}}),new d({children:[new I("教案名称："),new I(((o=f.value)==null?void 0:o.name)||"互动环节设计")]}),new d({children:[new I("教案类型："),new I(((p=f.value)==null?void 0:p.type)||"互动教案")]}),new d({children:[new I("生成时间："),new I(new Date().toLocaleString("zh-CN"))]}),new d({text:"二、教学环节互动设计",heading:U.HEADING_2,spacing:{before:400,after:200}}),...E.flatMap((m,N)=>{const Q=N+1;return[new d({text:`环节${Q}：${m.name}（${m.time}分钟）`,heading:U.HEADING_3,spacing:{before:300,after:100}}),new Se({width:{size:100,type:k.PERCENTAGE},rows:[new ee({children:[new j({width:{size:25,type:k.PERCENTAGE},children:[new d("互动类型")],shading:{fill:"F2F2F2"}}),new j({width:{size:75,type:k.PERCENTAGE},children:[new d(m.interaction.types.join("、")||"无")]})]}),new ee({children:[new j({width:{size:25,type:k.PERCENTAGE},children:[new d("互动风格")],shading:{fill:"F2F2F2"}}),new j({width:{size:75,type:k.PERCENTAGE},children:[new d(m.interaction.style||"无")]})]}),new ee({children:[new j({width:{size:25,type:k.PERCENTAGE},children:[new d("互动时长")],shading:{fill:"F2F2F2"}}),new j({width:{size:75,type:k.PERCENTAGE},children:[new d(`${m.interaction.duration}分钟（占环节时间的${Math.round(m.interaction.duration/m.time*100)}%）`)]})]}),new ee({children:[new j({width:{size:25,type:k.PERCENTAGE},children:[new d("参与人数")],shading:{fill:"F2F2F2"}}),new j({width:{size:75,type:k.PERCENTAGE},children:[new d(`${m.interaction.participants}人`)]})]}),new ee({children:[new j({width:{size:25,type:k.PERCENTAGE},children:[new d("难度级别")],shading:{fill:"F2F2F2"}}),new j({width:{size:75,type:k.PERCENTAGE},children:[new d(["入门级","基础级","进阶级","挑战级","专家级"][m.interaction.difficulty-1]||"未设置")]})]})]}),new d({text:"互动主题",heading:U.HEADING_4,spacing:{before:200,after:100}}),new d({text:m.interaction.topic||"未设置"}),new d({text:"互动目标",heading:U.HEADING_4,spacing:{before:200,after:100}}),...m.interaction.objectives?m.interaction.objectives.split(`
`).filter(b=>b.trim()).map(b=>new d({text:b})):[new d({text:"未设置"})],new d({text:"互动流程",heading:U.HEADING_4,spacing:{before:200,after:100}}),...m.interaction.procedure?m.interaction.procedure.split(`
`).filter(b=>b.trim()).map(b=>new d({text:b})):[new d({text:"未设置"})],new d({text:"评价标准",heading:U.HEADING_4,spacing:{before:200,after:100}}),...m.interaction.evaluation?m.interaction.evaluation.split(`
`).filter(b=>b.trim()).map(b=>new d({text:b})):[new d({text:"未设置"})],new d({text:"注意事项",heading:U.HEADING_4,spacing:{before:200,after:100}}),...m.interaction.notes?m.interaction.notes.split(`
`).filter(b=>b.trim()).map(b=>new d({text:b})):[new d({text:"未设置"})],...N<E.length-1?[new d({children:[new I({text:"",border:{bottom:{color:"#CCCCCC",space:1,style:Ie.SINGLE,size:6}}})],spacing:{after:200}})]:[]]}),new d({text:"教学互动环节设计方案结束",alignment:ye.CENTER,spacing:{before:400}})]}]});Me.toBlob(J).then(m=>{var N;He.saveAs(m,`${((N=f.value)==null?void 0:N.name)||"互动环节设计"}方案.docx`),C.success("导出成功")})}catch(E){console.error(E),C.error("导出失败")}finally{L.value=!1}},Pe=()=>{D.value==="history"?(F.value="",f.value=null):(O.value=null,x.value=[]),C.success("已重置表单")};function Ae(a){return new Promise(e=>setTimeout(e,a))}const X=w(!1),h=w(null),ke=a=>{h.value={...a},X.value=!0},je=()=>{var e;if(!h.value)return;const a=((e=f.value)==null?void 0:e.stages.find(o=>{var p;return o.id===((p=h.value)==null?void 0:p.id)}))||x.value.find(o=>{var p;return o.id===((p=h.value)==null?void 0:p.id)});a&&(a.interaction={...h.value.interaction},C.success("保存成功")),X.value=!1};return(a,e)=>{var pe,fe;const o=g("el-icon"),p=g("el-button"),E=g("el-radio-button"),J=g("el-radio-group"),m=g("el-tag"),N=g("el-option"),Q=g("el-select"),b=g("el-upload"),se=g("el-card"),A=g("el-form-item"),re=g("el-input-number"),de=g("el-rate"),ce=g("el-form"),R=g("el-descriptions-item"),Fe=g("el-descriptions"),ue=g("el-dialog"),Y=g("el-input");return V(),T("div",Be,[e[30]||(e[30]=i("h2",null,"互动环节设计",-1)),t(se,{class:"box-card"},{header:n(()=>[i("div",$e,[e[11]||(e[11]=i("span",null,"教案选择",-1)),t(p,{type:"primary",size:"small",onClick:ge},{default:n(()=>[t(o,null,{default:n(()=>[t(ve(De))]),_:1}),e[10]||(e[10]=v(" 浏览教案 "))]),_:1})])]),default:n(()=>[i("div",Oe,[t(J,{modelValue:D.value,"onUpdate:modelValue":e[0]||(e[0]=l=>D.value=l),size:"small",class:"source-selector"},{default:n(()=>[t(E,{label:"history"},{default:n(()=>e[12]||(e[12]=[v("历史教案")])),_:1}),t(E,{label:"upload"},{default:n(()=>e[13]||(e[13]=[v("上传教案")])),_:1})]),_:1},8,["modelValue"]),D.value==="history"?(V(),T("div",We,[t(Q,{modelValue:F.value,"onUpdate:modelValue":e[1]||(e[1]=l=>F.value=l),placeholder:"选择历史教案",filterable:"",class:"wide-select",onChange:S},{default:n(()=>[(V(!0),T(H,null,B(q.value,l=>(V(),le(N,{key:l.id,label:l.name,value:l.id},{default:n(()=>[i("div",qe,[i("span",null,y(l.name),1),t(m,{size:"small",type:he(l.type)},{default:n(()=>[v(y(l.type),1)]),_:2},1032,["type"]),i("span",Ke,y(be(l.time)),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])):(V(),T("div",Xe,[t(b,{class:"upload-demo","auto-upload":!1,"show-file-list":!0,"on-change":l=>ie(l,"lessonPlan"),accept:".pdf,.doc,.docx,.ppt,.pptx,.jpg,.jpeg,.png"},{tip:n(()=>e[15]||(e[15]=[i("div",{class:"el-upload__tip"},"支持PDF、Word、PPT等格式",-1)])),default:n(()=>[t(p,{type:"primary"},{default:n(()=>e[14]||(e[14]=[v("选择教案文件")])),_:1})]),_:1},8,["on-change"])]))])]),_:1}),f.value||x.value.length>0?(V(),T("div",Je,[i("div",Qe,[i("div",Ye,[e[17]||(e[17]=i("h3",null,"教学环节互动设计",-1)),M.value?(V(),T("span",Ze,e[16]||(e[16]=[i("span",{class:"ai-dot"},null,-1),v(" AI自动生成 ")]))):ae("",!0)]),t(p,{type:"primary",size:"small",onClick:xe,disabled:_.value},{default:n(()=>[v(y(_.value?"生成中...":"一键生成所有环节"),1)]),_:1},8,["disabled"])]),i("div",et,[(V(!0),T(H,null,B(((pe=f.value)==null?void 0:pe.stages)||x.value,l=>(V(),T("div",{key:l.id,class:"stage-card"},[t(se,{class:"stage-interaction-card"},{header:n(()=>[i("div",tt,[i("span",nt,y(l.name),1),t(m,{class:"stage-duration-tag",type:"info",effect:"light"},{default:n(()=>[t(o,{class:"stage-duration-icon"},{default:n(()=>[t(ve(Ge))]),_:1}),i("span",lt,y(l.time),1),e[18]||(e[18]=i("span",{class:"stage-duration-unit"},"分钟",-1))]),_:2},1024)])]),default:n(()=>[i("div",at,[t(ce,{model:l.interaction,"label-width":"80px",size:"small"},{default:n(()=>[t(A,{label:"互动类型"},{default:n(()=>[t(Q,{modelValue:l.interaction.types,"onUpdate:modelValue":r=>l.interaction.types=r,multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"请选择互动类型",style:{width:"100%"}},{default:n(()=>[(V(),T(H,null,B(P,r=>t(N,{key:r.value,label:r.label,value:r.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(A,{label:"互动风格"},{default:n(()=>[t(Q,{modelValue:l.interaction.style,"onUpdate:modelValue":r=>l.interaction.style=r,placeholder:"请选择互动风格",style:{width:"100%"}},{default:n(()=>[(V(),T(H,null,B(u,r=>t(N,{key:r,label:r,value:r},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(A,{label:"互动时长"},{default:n(()=>[i("div",ot,[t(re,{modelValue:l.interaction.duration,"onUpdate:modelValue":r=>l.interaction.duration=r,min:1,max:l.time,style:{width:"90px"}},null,8,["modelValue","onUpdate:modelValue","max"]),e[19]||(e[19]=i("span",{class:"unit"},"分钟",-1)),t(m,{class:"duration-percentage-tag",type:"primary",effect:"plain"},{default:n(()=>[v(y(Math.round(l.interaction.duration/l.time*100))+"% ",1)]),_:2},1024)])]),_:2},1024),t(A,{label:"参与人数"},{default:n(()=>[i("div",it,[t(re,{modelValue:l.interaction.participants,"onUpdate:modelValue":r=>l.interaction.participants=r,min:1,max:50,style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),e[20]||(e[20]=i("span",{class:"unit"},"人",-1))])]),_:2},1024),t(A,{label:"难度级别"},{default:n(()=>[i("div",st,[t(de,{modelValue:l.interaction.difficulty,"onUpdate:modelValue":r=>l.interaction.difficulty=r,max:5},null,8,["modelValue","onUpdate:modelValue"]),i("span",rt,y(["入门级","基础级","进阶级","挑战级","专家级"][l.interaction.difficulty-1]),1)])]),_:2},1024),t(A,{class:"stage-actions"},{default:n(()=>[i("div",dt,[t(p,{type:"primary",onClick:r=>ke(l),class:"edit-button"},{default:n(()=>e[21]||(e[21]=[v(" 编辑详细信息 ")])),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1032,["model"])])]),_:2},1024)]))),128))])])):ae("",!0),i("div",ct,[t(p,{type:"primary",onClick:Ve,disabled:!f.value&&x.value.length===0},{default:n(()=>e[22]||(e[22]=[v("保存")])),_:1},8,["disabled"]),t(p,{type:"success",onClick:Ce,disabled:!K.value},{default:n(()=>e[23]||(e[23]=[v("预览")])),_:1},8,["disabled"]),t(p,{type:"warning",loading:L.value,onClick:Te,disabled:!K.value},{default:n(()=>[v(y(L.value?"导出中...":"导出"),1)]),_:1},8,["loading","disabled"]),t(p,{onClick:Pe},{default:n(()=>e[24]||(e[24]=[v("重置")])),_:1})]),t(ue,{modelValue:W.value,"onUpdate:modelValue":e[2]||(e[2]=l=>W.value=l),title:"互动环节预览",width:"60%","destroy-on-close":""},{default:n(()=>{var l;return[i("div",ut,[e[25]||(e[25]=i("h2",null,"互动环节方案",-1)),(V(!0),T(H,null,B(((l=f.value)==null?void 0:l.stages)||x.value,r=>(V(),T("div",{key:r.id,class:"preview-stage"},[i("div",pt,[i("div",ft,[t(m,{type:"success",effect:"dark"},{default:n(()=>[v(y(r.name),1)]),_:2},1024),i("span",mt,y(r.time)+"分钟",1)]),i("div",vt,[(V(!0),T(H,null,B(r.interaction.types,ne=>(V(),le(m,{key:ne,effect:"plain"},{default:n(()=>[v(y(ne),1)]),_:2},1024))),128))])]),t(Fe,{column:1,border:""},{default:n(()=>[t(R,{label:"互动主题"},{default:n(()=>[v(y(r.interaction.topic),1)]),_:2},1024),t(R,{label:"互动风格"},{default:n(()=>[v(y(r.interaction.style),1)]),_:2},1024),t(R,{label:"互动时长"},{default:n(()=>[v(y(r.interaction.duration)+" 分钟",1)]),_:2},1024),t(R,{label:"参与人数"},{default:n(()=>[v(y(r.interaction.participants),1)]),_:2},1024),t(R,{label:"难度级别"},{default:n(()=>[t(de,{modelValue:r.interaction.difficulty,"onUpdate:modelValue":ne=>r.interaction.difficulty=ne,disabled:"",max:5},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(R,{label:"互动目标"},{default:n(()=>[i("pre",yt,y(r.interaction.objectives),1)]),_:2},1024),t(R,{label:"互动流程"},{default:n(()=>[i("pre",_t,y(r.interaction.procedure),1)]),_:2},1024),t(R,{label:"评价标准"},{default:n(()=>[i("pre",wt,y(r.interaction.evaluation),1)]),_:2},1024),t(R,{label:"注意事项"},{default:n(()=>[i("pre",ht,y(r.interaction.notes),1)]),_:2},1024)]),_:2},1024)]))),128))])]}),_:1},8,["modelValue"]),t(ue,{modelValue:X.value,"onUpdate:modelValue":e[9]||(e[9]=l=>X.value=l),title:`编辑 ${(fe=h.value)==null?void 0:fe.name} 详细信息`,width:"60%","destroy-on-close":""},{footer:n(()=>[i("div",Tt,[t(p,{onClick:e[8]||(e[8]=l=>X.value=!1)},{default:n(()=>e[28]||(e[28]=[v("取消")])),_:1}),t(p,{type:"primary",onClick:je},{default:n(()=>e[29]||(e[29]=[v("保存")])),_:1})])]),default:n(()=>[h.value?(V(),le(ce,{key:0,model:h.value.interaction,"label-width":"100px",class:"edit-form","label-position":"top"},{default:n(()=>[t(A,{label:"互动主题"},{default:n(()=>[i("div",bt,[t(Y,{modelValue:h.value.interaction.topic,"onUpdate:modelValue":e[3]||(e[3]=l=>h.value.interaction.topic=l),type:"textarea",rows:2,placeholder:"请输入互动主题"},null,8,["modelValue"])])]),_:1}),t(A,{label:"互动目标"},{default:n(()=>[i("div",gt,[t(Y,{modelValue:h.value.interaction.objectives,"onUpdate:modelValue":e[4]||(e[4]=l=>h.value.interaction.objectives=l),type:"textarea",rows:3,placeholder:"请输入互动目标"},null,8,["modelValue"])])]),_:1}),t(A,{label:"互动流程"},{default:n(()=>[i("div",xt,[t(Y,{modelValue:h.value.interaction.procedure,"onUpdate:modelValue":e[5]||(e[5]=l=>h.value.interaction.procedure=l),type:"textarea",rows:5,placeholder:"请输入互动流程"},null,8,["modelValue"])])]),_:1}),t(A,{label:"评价标准"},{default:n(()=>[i("div",Et,[t(Y,{modelValue:h.value.interaction.evaluation,"onUpdate:modelValue":e[6]||(e[6]=l=>h.value.interaction.evaluation=l),type:"textarea",rows:3,placeholder:"请输入评价标准"},null,8,["modelValue"])])]),_:1}),t(A,{label:"注意事项"},{default:n(()=>[i("div",Vt,[t(Y,{modelValue:h.value.interaction.notes,"onUpdate:modelValue":e[7]||(e[7]=l=>h.value.interaction.notes=l),type:"textarea",rows:2,placeholder:"请输入注意事项"},null,8,["modelValue"])])]),_:1}),t(A,{label:"相关文件"},{default:n(()=>[i("div",Ct,[t(b,{class:"upload-demo","auto-upload":!1,"show-file-list":!0,"on-change":l=>ie(l,"stageFile"),accept:".pdf,.doc,.docx,.ppt,.pptx,.jpg,.jpeg,.png"},{tip:n(()=>e[27]||(e[27]=[i("div",{class:"el-upload__tip"},"支持PDF、Word、PPT等格式",-1)])),default:n(()=>[t(p,{type:"primary"},{default:n(()=>e[26]||(e[26]=[v("上传文件")])),_:1})]),_:1},8,["on-change"])])]),_:1})]),_:1},8,["model"])):ae("",!0)]),_:1},8,["modelValue","title"])])}}});const Ft=ze(Pt,[["__scopeId","data-v-174b9d38"]]);export{Ft as default};
