import{k as K,r as d,p as T,b as o,o as c,c as m,d as a,f as i,w as s,h as u,g as F,n as C,t as l,F as P,e as D,N as E}from"./index-8f7409db.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";const q={class:"leaderboard-container"},H={class:"filter-bar"},J={class:"time-filter"},O={class:"search-bar"},Q={class:"rank-cell"},W={key:1},X={class:"user-cell"},Y={class:"user-info"},Z={class:"user-name"},I={class:"user-role"},ee={class:"difficulty-distribution"},te={class:"difficulty-item"},ae={class:"difficulty-tag easy"},ie={class:"difficulty-item"},ne={class:"difficulty-tag medium"},se={class:"difficulty-item"},oe={class:"difficulty-tag hard"},le={class:"activity-cell"},re={class:"activity-graph"},de=["title"],ue={class:"pagination-container"},ce="https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",me=K({__name:"Leaderboard",setup(pe){const p=d(""),b=d("all"),_=d(1),f=d(10),w=d(135),h=d([{id:"1",name:"张三",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",role:"教师",solvedCount:125,submissionCount:150,difficultyCounts:{easy:50,medium:60,hard:15},points:320,activityGraph:[5,10,8,15,7,3,0],activityLevel:"非常活跃"},{id:"2",name:"李四",avatar:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",role:"学生",solvedCount:118,submissionCount:145,difficultyCounts:{easy:45,medium:58,hard:15},points:315,activityGraph:[12,8,6,4,10,5,7],activityLevel:"非常活跃"},{id:"3",name:"王五",role:"学生",solvedCount:105,submissionCount:130,difficultyCounts:{easy:48,medium:52,hard:5},points:272,activityGraph:[3,5,7,4,2,8,6],activityLevel:"活跃"},{id:"4",name:"赵六",avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",role:"教师",solvedCount:98,submissionCount:120,difficultyCounts:{easy:40,medium:48,hard:10},points:266,activityGraph:[2,0,4,5,6,3,1],activityLevel:"活跃"},{id:"5",name:"钱七",role:"学生",solvedCount:90,submissionCount:115,difficultyCounts:{easy:42,medium:43,hard:5},points:233,activityGraph:[1,0,3,2,0,1,4],activityLevel:"一般"},{id:"6",name:"孙八",avatar:"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg",role:"学生",solvedCount:85,submissionCount:112,difficultyCounts:{easy:50,medium:30,hard:5},points:215,activityGraph:[0,1,0,2,3,0,1],activityLevel:"一般"},{id:"7",name:"周九",role:"教师",solvedCount:82,submissionCount:100,difficultyCounts:{easy:45,medium:32,hard:5},points:211,activityGraph:[0,0,1,0,2,0,0],activityLevel:"不活跃"},{id:"8",name:"吴十",role:"学生",solvedCount:75,submissionCount:95,difficultyCounts:{easy:40,medium:30,hard:5},points:195,activityGraph:[0,0,0,1,0,0,0],activityLevel:"不活跃"}]),L=T(()=>p.value?h.value.filter(n=>n.name.toLowerCase().includes(p.value.toLowerCase())):h.value),k=(n,t)=>t===0?0:Math.round(n/t*100),z=n=>n===0?"activity-none":n<=3?"activity-low":n<=8?"activity-medium":"activity-high",x=n=>{switch(n){case"非常活跃":return"success";case"活跃":return"warning";case"一般":return"info";case"不活跃":return"info";default:return"info"}},G=({row:n,rowIndex:t})=>t===0?"rank-first-row":t===1?"rank-second-row":t===2?"rank-third-row":"",V=n=>{f.value=n},$=n=>{_.value=n};return(n,t)=>{const v=o("el-radio-button"),N=o("el-radio-group"),R=o("el-input"),r=o("el-table-column"),S=o("el-avatar"),y=o("el-tooltip"),U=o("el-tag"),A=o("el-table"),j=o("el-pagination");return c(),m("div",q,[a("div",H,[a("div",J,[i(N,{modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),size:"small"},{default:s(()=>[i(v,{label:"all"},{default:s(()=>t[4]||(t[4]=[u("全部")])),_:1}),i(v,{label:"monthly"},{default:s(()=>t[5]||(t[5]=[u("本月")])),_:1}),i(v,{label:"weekly"},{default:s(()=>t[6]||(t[6]=[u("本周")])),_:1}),i(v,{label:"daily"},{default:s(()=>t[7]||(t[7]=[u("今日")])),_:1})]),_:1},8,["modelValue"])]),a("div",O,[i(R,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=e=>p.value=e),placeholder:"搜索用户...","prefix-icon":F(E),clearable:"",size:"small"},null,8,["modelValue","prefix-icon"])])]),i(A,{data:L.value,style:{width:"100%"},"row-class-name":G},{default:s(()=>[i(r,{label:"排名",width:"80"},{default:s(e=>[a("div",Q,[e.$index<3?(c(),m("span",{key:0,class:C(["rank-badge",`rank-${e.$index+1}`])},l(e.$index+1),3)):(c(),m("span",W,l(e.$index+1),1))])]),_:1}),i(r,{label:"用户",width:"250"},{default:s(e=>[a("div",X,[i(S,{size:40,src:e.row.avatar||ce},null,8,["src"]),a("div",Y,[a("div",Z,l(e.row.name),1),a("div",I,l(e.row.role),1)])])]),_:1}),i(r,{prop:"solvedCount",label:"解题数",sortable:""}),i(r,{prop:"submissionCount",label:"提交数",sortable:""}),i(r,{label:"通过率",sortable:""},{default:s(e=>[u(l(k(e.row.solvedCount,e.row.submissionCount))+"% ",1)]),_:1}),i(r,{label:"难度分布"},{default:s(e=>[a("div",ee,[i(y,{content:"简单题",placement:"top"},{default:s(()=>[a("div",te,[a("span",ae,l(e.row.difficultyCounts.easy),1)])]),_:2},1024),i(y,{content:"中等题",placement:"top"},{default:s(()=>[a("div",ie,[a("span",ne,l(e.row.difficultyCounts.medium),1)])]),_:2},1024),i(y,{content:"困难题",placement:"top"},{default:s(()=>[a("div",se,[a("span",oe,l(e.row.difficultyCounts.hard),1)])]),_:2},1024)])]),_:1}),i(r,{prop:"points",label:"积分",sortable:""}),i(r,{label:"活跃度",width:"120"},{default:s(e=>[a("div",le,[a("div",re,[(c(!0),m(P,null,D(e.row.activityGraph,(g,B)=>(c(),m("div",{key:B,class:C(["activity-day",z(g)]),title:`${g} 次提交`},null,10,de))),128))]),i(U,{size:"small",class:"activity-tag",type:x(e.row.activityLevel)},{default:s(()=>[u(l(e.row.activityLevel),1)]),_:2},1032,["type"])])]),_:1})]),_:1},8,["data"]),a("div",ue,[i(j,{"current-page":_.value,"onUpdate:currentPage":t[2]||(t[2]=e=>_.value=e),"page-size":f.value,"onUpdate:pageSize":t[3]||(t[3]=e=>f.value=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:w.value,onSizeChange:V,onCurrentChange:$},null,8,["current-page","page-size","total"])]),t[8]||(t[8]=a("div",{class:"leaderboard-info"},[a("h3",null,"排行榜说明"),a("ul",null,[a("li",null,"积分计算规则：简单题(1分) + 中等题(3分) + 困难题(5分)"),a("li",null,"排名更新频率：每小时更新一次"),a("li",null,"活跃度：根据最近7天的提交次数计算")])],-1))])}}});const fe=M(me,[["__scopeId","data-v-96dd387e"]]);export{fe as default};
