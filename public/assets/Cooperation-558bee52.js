import{k as I,r as c,p as K,b as s,o as f,c as b,d as u,f as e,w as o,h as p,F as M,e as W,q as A,t as i,g as U,s as G,E as x,x as H,a5 as J}from"./index-8f7409db.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";const Q={class:"coop-container"},X={class:"top-bar"},Y={class:"coop-list"},Z={class:"coop-title"},ee={class:"coop-meta"},le={class:"coop-desc"},te={key:0,class:"file-info"},oe={class:"file-name"},ae={style:{"text-align":"right","margin-top":"10px"}},se={class:"preview-content"},ue={style:{"text-align":"center"}},de={class:"desc-pre"},ie={key:0},ne={key:1},re=I({__name:"Cooperation",setup(pe){const _=c(!1),w=c(!1),g=c(),V=c(""),y=c(""),t=c({title:"",host:"",subject:"",time:[],desc:"",file:null,fileName:""}),q={title:[{required:!0,message:"请输入课题名称",trigger:"blur"}],host:[{required:!0,message:"请输入主持人",trigger:"blur"}],subject:[{required:!0,message:"请选择学科",trigger:"change"}],time:[{required:!0,message:"请选择备课时间",trigger:"change"}],desc:[{required:!0,message:"请输入简介",trigger:"blur"}]},j=c([{id:1,title:"数据结构",host:"李老师",subject:"计算机",time:"2025/03/01-至今",desc:"数据结构课程协作备课空间，共同设计教学方案和实验内容。"},{id:2,title:"高等数学",host:"王老师",subject:"数学",time:"2025/02/15-至今",desc:"高等数学课程集体备课，聚焦难点讲解与案例分析。"},{id:3,title:"人工智能基础",host:"赵老师",subject:"人工智能",time:"2025/04/01-至今",desc:"人工智能基础课程协作空间，涵盖算法、应用与实验。"},{id:4,title:"大数据分析",host:"陈老师",subject:"大数据",time:"2025/03/10-至今",desc:"大数据分析课程集体备课，分享数据处理与可视化经验。"}]),F=K(()=>{let d=j.value;if(V.value&&(d=d.filter(l=>l.subject===V.value)),y.value){const l=y.value.toLowerCase();d=d.filter(n=>n.title.toLowerCase().includes(l)||n.host.toLowerCase().includes(l))}return d}),L=d=>{t.value.file=d.raw,t.value.fileName=d.name,x.success("文件选择成功")},B=()=>{t.value.file=null,t.value.fileName=""},E=d=>!0,D=async()=>{if(g.value)try{await g.value.validate(),j.value.unshift({id:Date.now(),title:t.value.title,host:t.value.host,subject:t.value.subject,time:t.value.time&&t.value.time.length?t.value.time[0]+"-"+t.value.time[1]:"",desc:t.value.desc}),_.value=!1,g.value.resetFields(),t.value={title:"",host:"",subject:"",time:[],desc:"",file:null,fileName:""},x.success("发起成功")}catch{x.error("请填写完整信息")}},P=d=>{x.success("进入协作空间（模拟）")};return(d,l)=>{const n=s("el-button"),r=s("el-option"),k=s("el-select"),h=s("el-input"),$=s("el-card"),m=s("el-form-item"),z=s("el-date-picker"),R=s("el-upload"),C=s("el-icon"),S=s("el-form"),N=s("el-dialog"),v=s("el-descriptions-item"),T=s("el-descriptions");return f(),b("div",Q,[l[17]||(l[17]=u("h2",null,"协作空间",-1)),u("div",X,[e(n,{type:"primary",onClick:l[0]||(l[0]=a=>_.value=!0)},{default:o(()=>l[11]||(l[11]=[p("发起集体备课")])),_:1}),e(k,{modelValue:V.value,"onUpdate:modelValue":l[1]||(l[1]=a=>V.value=a),placeholder:"全部学科",style:{width:"140px","margin-left":"20px"}},{default:o(()=>[e(r,{label:"全部学科",value:""}),e(r,{label:"计算机",value:"计算机"}),e(r,{label:"数学",value:"数学"}),e(r,{label:"人工智能",value:"人工智能"}),e(r,{label:"大数据",value:"大数据"})]),_:1},8,["modelValue"]),e(h,{modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=a=>y.value=a),placeholder:"搜索课题/主持人",style:{width:"200px","margin-left":"20px"},clearable:""},null,8,["modelValue"])]),u("div",Y,[(f(!0),b(M,null,W(F.value,a=>(f(),A($,{key:a.id,class:"coop-card"},{default:o(()=>[u("div",Z,i(a.title),1),u("div",ee," 主持人："+i(a.host)+" | 学科范围："+i(a.subject)+" | 备课时间："+i(a.time),1),u("div",le,i(a.desc),1),e(n,{type:"primary",size:"small",style:{float:"right","margin-top":"8px"},onClick:ce=>P(a)},{default:o(()=>l[12]||(l[12]=[p("进入备课")])),_:2},1032,["onClick"])]),_:2},1024))),128))]),e(N,{modelValue:_.value,"onUpdate:modelValue":l[9]||(l[9]=a=>_.value=a),title:"发起集体备课",width:"480px","destroy-on-close":""},{default:o(()=>[e(S,{model:t.value,rules:q,ref_key:"formRef",ref:g,"label-width":"100px"},{default:o(()=>[e(m,{label:"课题名称",prop:"title"},{default:o(()=>[e(h,{modelValue:t.value.title,"onUpdate:modelValue":l[3]||(l[3]=a=>t.value.title=a),placeholder:"请输入课题名称"},null,8,["modelValue"])]),_:1}),e(m,{label:"主持人",prop:"host"},{default:o(()=>[e(h,{modelValue:t.value.host,"onUpdate:modelValue":l[4]||(l[4]=a=>t.value.host=a),placeholder:"请输入主持人姓名"},null,8,["modelValue"])]),_:1}),e(m,{label:"学科范围",prop:"subject"},{default:o(()=>[e(k,{modelValue:t.value.subject,"onUpdate:modelValue":l[5]||(l[5]=a=>t.value.subject=a),placeholder:"请选择学科"},{default:o(()=>[e(r,{label:"计算机",value:"计算机"}),e(r,{label:"数学",value:"数学"}),e(r,{label:"人工智能",value:"人工智能"}),e(r,{label:"大数据",value:"大数据"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"备课时间",prop:"time"},{default:o(()=>[e(z,{modelValue:t.value.time,"onUpdate:modelValue":l[6]||(l[6]=a=>t.value.time=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(m,{label:"简介",prop:"desc"},{default:o(()=>[e(h,{modelValue:t.value.desc,"onUpdate:modelValue":l[7]||(l[7]=a=>t.value.desc=a),type:"textarea",rows:3,placeholder:"请输入简介"},null,8,["modelValue"])]),_:1}),e(m,{label:"上传文件",prop:"file"},{default:o(()=>[e(R,{class:"upload-demo","auto-upload":!1,"show-file-list":!1,onChange:L,accept:".pdf,.doc,.docx,.ppt,.pptx,.png,.jpg,.jpeg,.zip,.rar,.py,.cpp,.java,.txt","before-upload":E},{tip:o(()=>l[14]||(l[14]=[u("div",{class:"el-upload__tip"},"支持PDF、Word、PPT、图片、代码等格式",-1)])),default:o(()=>[e(n,{type:"primary"},{default:o(()=>l[13]||(l[13]=[p("选择文件")])),_:1})]),_:1}),t.value.fileName?(f(),b("div",te,[e(C,null,{default:o(()=>[e(U(H))]),_:1}),u("span",oe,i(t.value.fileName),1),e(n,{type:"danger",link:"",onClick:B},{default:o(()=>[e(C,null,{default:o(()=>[e(U(J))]),_:1})]),_:1})])):G("",!0)]),_:1})]),_:1},8,["model"]),u("div",ae,[e(n,{onClick:l[8]||(l[8]=a=>_.value=!1)},{default:o(()=>l[15]||(l[15]=[p("取消")])),_:1}),e(n,{type:"primary",onClick:D},{default:o(()=>l[16]||(l[16]=[p("发起")])),_:1})])]),_:1},8,["modelValue"]),e(N,{modelValue:w.value,"onUpdate:modelValue":l[10]||(l[10]=a=>w.value=a),title:"协作课题预览",width:"480px","destroy-on-close":""},{default:o(()=>[u("div",se,[u("h2",ue,i(t.value.title),1),e(T,{column:1,border:""},{default:o(()=>[e(v,{label:"主持人"},{default:o(()=>[p(i(t.value.host),1)]),_:1}),e(v,{label:"学科范围"},{default:o(()=>[p(i(t.value.subject),1)]),_:1}),e(v,{label:"备课时间"},{default:o(()=>[p(i(t.value.time&&t.value.time.length?t.value.time[0]+" 至 "+t.value.time[1]:""),1)]),_:1}),e(v,{label:"简介"},{default:o(()=>[u("pre",de,i(t.value.desc),1)]),_:1}),e(v,{label:"上传文件"},{default:o(()=>[t.value.fileName?(f(),b("span",ie,"已上传文件")):(f(),b("span",ne,"无"))]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}});const _e=O(re,[["__scopeId","data-v-a39fecc0"]]);export{_e as default};
